local Jugador = game.Players.LocalPlayer
local ServicioUsuario = game:GetService("UserInputService")

function EsHumanoide(objeto)
    return objeto:IsA("Humanoid")
end

function ApuntarACoordenadas(x, y)
    local mouseHit = workspace.CurrentCamera:ScreenPointToRay(x, y)
    local objeto, posicion = workspace:FindPartOnRay(mouseHit, nil, false, true)

    if objeto and EsHumanoide(objeto.Parent) and objeto.Parent ~= Jugador.Character then
        local direccion = (posicion - workspace.CurrentCamera.CFrame.Position).unit
        local rotacion = CFrame.new(workspace.CurrentCamera.CFrame.Position, posicion)

        -- Aplica la rotación a la cámara
        workspace.CurrentCamera.CFrame = rotacion
    end
end

-- Conecta la función ApuntarACoordenadas al evento de toque en la pantalla
ServicioUsuario.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent and input.UserInputType == Enum.UserInputType.Touch then
        local touchPosition = input.Position
        ApuntarACoordenadas(touchPosition.X, touchPosition.Y)
    end
end)
